KISSY.add("kg/custom-scrollbar/1.0.1/index",["node","base"],function(e,t,n,o){var l,a=t("node"),s=t("base");l=function(t){var n=a,o=s,l=0,c=0,i=0,u=0,r=o.extend({initializer:function(){this.initScrollbarHtml()},initScrollbarHtml:function(){var t=this,n=t.get("ele"),o=t.get("onMac"),l=t.get("tpl");if(n){if(!o&&navigator.userAgent.indexOf("Mac OS X")>0)return void n.css("overflow-y","scroll");var a={text:n.html()};n.html(e.substitute(l,a)),t.initProp()}},initProp:function(){var e=this,t=e.get("ele");t&&(e.content=t.one(".custom-scrollbar-content"),e.track=t.one(".custom-scrollbar-track"),e.handel=t.one(".scrollbar-handle"),l=t.height(),c=e.content.height(),l>=c||(u=c/l,i=parseInt(l/u),e.handel.style("height",i),e.track.style("height",l),e.eventBind()))},eventBind:function(){this.mouseWheelBind(),this.mouseMoveBind()},mouseWheelBind:function(){function e(e){e.halt();var n=parseFloat(t.handel.css("top")),o=n-10*e.deltaY;0>o?o=0:o>l-t.handel.height()&&(o=l-t.handel.height()),t.handel.style("top",parseInt(o)),t.content.style("top",parseInt(-o*u))}var t=this;t.track.on("mouseenter",function(){n(document).on("mousewheel",e)}).on("mouseleave",function(){n(document).detach("mousewheel",e)}),t.content.on("mouseenter",function(){n(document).on("mousewheel",e)}).on("mouseleave",function(){n(document).detach("mousewheel",e)})},_addMouseHover:function(e){var e=e;!e.get("mouseHover")},mouseMoveBind:function(){var e=this;e.handel.on("mousedown",function(t){var n=t.clientY,o=n-e.handel.offset().top;t.halt(),document.onmousemove=function(t){var n=t||event,l=n.clientY-o;return 0>l?l=0:l>e.track.height()-e.handel.height()&&(l=e.track.height()-e.handel.height()),e.handel.style("top",parseInt(l)),e.content.style("top",parseInt(-l*u)),!1},document.onmouseup=function(){document.onmouseup=null,document.onmousemove=null}})}},{ATTRS:{ele:{value:null},tpl:{value:'<div class="custom-scrollbar-track"><span class="scrollbar-handle"></span></div><div class="custom-scrollbar-content">{text}</div>'},onMac:{value:!0},mouseHover:{value:!1}}});return t=r}(),o.exports=l});